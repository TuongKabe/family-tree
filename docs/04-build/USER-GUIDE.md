---
project: AncestorTree
path: docs/04-build/USER-GUIDE.md
type: user-guide
version: 1.8.0
updated: 2026-02-26
owner: dev-team
status: approved
---

# Hướng dẫn Sử dụng — Gia Phả Điện Tử

Hướng dẫn sử dụng chi tiết cho ứng dụng quản lý gia phả điện tử.

---

## Mục lục

1. [Tổng quan](#1-tổng-quan)
2. [Trang chủ](#2-trang-chủ)
3. [Quản lý thành viên](#3-quản-lý-thành-viên)
4. [Cây gia phả](#4-cây-gia-phả)
5. [Quan hệ gia đình](#5-quan-hệ-gia-đình)
6. [Thư mục thành viên](#6-thư-mục-thành-viên)
7. [Lịch sự kiện & Ngày giỗ](#7-lịch-sự-kiện--ngày-giỗ)
8. [Vinh danh thành tích](#8-vinh-danh-thành-tích)
9. [Quỹ khuyến học](#9-quỹ-khuyến-học)
10. [Hương ước gia tộc](#10-hương-ước-gia-tộc)
11. [Cầu đương](#11-cầu-đương)
12. [Gia phả sách](#12-gia-phả-sách)
13. [Quản trị (Admin)](#13-quản-trị-admin)
14. [Sao lưu & Khôi phục](#14-sao-lưu--khôi-phục)

---

## 1. Tổng quan

**Gia Phả Điện Tử** giúp bạn:

- Lưu trữ thông tin dòng họ qua nhiều thế hệ
- Xem cây gia phả trực quan
- Quản lý ngày giỗ, lễ tết theo lịch âm
- Vinh danh thành tích con cháu
- Quản lý quỹ khuyến học
- Lưu giữ hương ước, gia huấn
- Phân công cầu đương tự động

### Thanh điều hướng (Sidebar)

Ứng dụng có thanh điều hướng bên trái với các mục:

| Mục | Chức năng |
|-----|-----------|
| **Trang chủ** | Tổng quan, thống kê |
| **Cây phả hệ** | Sơ đồ cây gia phả |
| **Thành viên** | Danh sách và quản lý thành viên |
| **Thư mục** | Danh bạ liên lạc |
| **Sự kiện** | Lịch ngày giỗ, lễ tết |
| **Vinh danh** | Bảng vinh danh thành tích |
| **Quỹ khuyến học** | Thu chi quỹ, học bổng |
| **Hương ước** | Gia huấn, quy ước |
| **Cầu đương** | Phân công cầu đương |
| **Gia phả sách** | Xuất gia phả dạng sách |
| **Quản trị** | Cài đặt, quản lý (chỉ admin) |

---

## 2. Trang chủ

Trang chủ hiển thị:

- **Thống kê nhanh:** Tổng số thành viên, số đời, số gia đình
- **Sự kiện sắp tới:** Ngày giỗ, lễ tết gần nhất
- **Hương ước nổi bật:** Gia huấn, lời dặn dò
- **Hoạt động gần đây:** Các thay đổi mới nhất

---

## 3. Quản lý thành viên

### Xem danh sách

- Vào **Thành viên** từ thanh điều hướng
- Danh sách hiển thị: tên, đời, giới tính, năm sinh
- Dùng ô tìm kiếm để lọc theo tên

### Thêm thành viên mới

1. Nhấn nút **Thêm thành viên** (góc trên phải)
2. Điền thông tin:
   - **Họ và tên** (bắt buộc)
   - **Giới tính** (bắt buộc)
   - **Đời** — thế hệ trong gia phả (1 = thủy tổ)
   - **Năm sinh / năm mất**
   - **Ngày mất âm lịch** — để tính ngày giỗ (ví dụ: 12/3)
   - **Tiểu sử** — vài dòng giới thiệu
   - **Cha / Mẹ** — chọn từ danh sách để tự động tạo quan hệ
3. Nhấn **Lưu**

### Chỉnh sửa thành viên

1. Click vào tên thành viên trong danh sách
2. Nhấn **Sửa** (biểu tượng bút)
3. Thay đổi thông tin cần thiết
4. Nhấn **Lưu**

### Thông tin có thể lưu

| Nhóm | Trường thông tin |
|------|-----------------|
| **Cơ bản** | Họ, tên, giới tính, đời, năm sinh, năm mất |
| **Liên lạc** | Điện thoại, email, Zalo, địa chỉ |
| **Gia phả** | Ngày mất âm lịch, tiểu sử, nghề nghiệp |
| **Quyền riêng tư** | Công khai / Chỉ thành viên / Riêng tư |

---

## 4. Cây gia phả

### Xem cây

- Vào **Cây phả hệ** từ thanh điều hướng
- Cây hiển thị theo kiểu phả hệ truyền thống (trên → dưới)
- Vợ/chồng hiển thị cạnh nhau, con cái ở dưới

### Thao tác

| Thao tác | Cách làm |
|----------|----------|
| **Thu phóng** | Cuộn chuột hoặc pinch trên touchpad |
| **Kéo ngang** | Click và kéo trên vùng trống |
| **Xem chi tiết** | Click vào thành viên |
| **Lọc theo gốc** | Click vào một thành viên → chọn "Xem cây từ đây" |

### Lọc cây theo gốc

Khi gia phả lớn (>50 thành viên), bạn có thể lọc cây bắt đầu từ một thành viên cụ thể:

1. Click vào thành viên muốn làm gốc
2. Chọn **Xem cây từ đây**
3. Cây sẽ chỉ hiển thị nhánh của thành viên đó
4. Nhấn **Xem toàn bộ** để trở lại cây đầy đủ

---

## 5. Quan hệ gia đình

### Xem quan hệ

Khi mở trang chi tiết của một thành viên, phần **Quan hệ gia đình** hiển thị:

- **Bố / Mẹ** — cha mẹ ruột
- **Anh chị em** — cùng bố mẹ
- **Vợ / Chồng** — quan hệ hôn nhân
- **Con** — con cái

### Thêm quan hệ

1. Mở trang chi tiết thành viên
2. Trong phần Quan hệ, nhấn **Thêm quan hệ**
3. Chọn loại:
   - **Thêm con** — chọn thành viên hiện có hoặc tạo mới
   - **Thêm vợ/chồng** — tạo gia đình mới với thành viên được chọn
4. Quan hệ sẽ tự động cập nhật ở cả hai phía

---

## 6. Thư mục thành viên

- Vào **Thư mục** từ thanh điều hướng
- Hiển thị danh bạ liên lạc: tên, số điện thoại, email
- Chỉ hiển thị thông tin liên lạc cho thành viên đã đăng nhập
- Tìm kiếm nhanh theo tên

---

## 7. Lịch sự kiện & Ngày giỗ

### Xem lịch sự kiện

- Vào **Sự kiện** từ thanh điều hướng
- Hiển thị danh sách ngày giỗ, lễ tết sắp tới
- Ngày giỗ tự động tính từ **ngày mất âm lịch** của thành viên

### Thêm sự kiện

1. Nhấn **Thêm sự kiện**
2. Điền thông tin:
   - **Tên sự kiện** (ví dụ: "Giỗ Cụ Thủy Tổ")
   - **Loại:** Giỗ, Lễ/Tết, Khác
   - **Ngày âm lịch** (ví dụ: 12/3)
   - **Người liên quan** (chọn từ danh sách thành viên, nếu là ngày giỗ)
   - **Địa điểm**
   - **Lặp lại hàng năm** — bật cho ngày giỗ, lễ tết
3. Nhấn **Lưu**

### Loại sự kiện

| Loại | Ý nghĩa | Ví dụ |
|------|---------|-------|
| **Giỗ** | Ngày giỗ thành viên đã mất | Giỗ Cụ Thủy Tổ (12/3 âm lịch) |
| **Lễ/Tết** | Lễ tết truyền thống | Tết Nguyên Đán, Rằm tháng 7 |
| **Khác** | Sự kiện khác | Họp họ, khánh thành nhà thờ |

---

## 8. Vinh danh thành tích

### Xem bảng vinh danh

- Vào **Vinh danh** từ thanh điều hướng
- Hiển thị danh sách thành tích nổi bật của con cháu trong họ

### Thêm thành tích (cần quyền Admin/Editor)

1. Vào **Quản trị** → **Vinh danh**
2. Nhấn **Thêm thành tích**
3. Điền thông tin:
   - **Thành viên** — người được vinh danh
   - **Tiêu đề** (ví dụ: "Tốt nghiệp Thạc sĩ CNTT")
   - **Danh mục:** Học tập, Sự nghiệp, Cống hiến, Khác
   - **Năm**
   - **Mô tả chi tiết**
4. Nhấn **Lưu**

---

## 9. Quỹ khuyến học

### Xem quỹ

- Vào **Quỹ khuyến học** từ thanh điều hướng
- Hiển thị: số dư quỹ, lịch sử thu chi, danh sách học bổng

### Quản lý quỹ (Admin/Editor)

1. Vào **Quản trị** → **Quỹ khuyến học**
2. **Ghi thu/chi:** Nhấn nút tương ứng, nhập số tiền, lý do, ngày
3. **Cấp học bổng:** Nhấn **Thêm học bổng**, chọn thành viên, nhập số tiền và học kỳ

---

## 10. Hương ước gia tộc

### Xem hương ước

- Vào **Hương ước** từ thanh điều hướng
- Hiển thị các bài viết: gia huấn, quy ước, lời dặn dò

### Quản lý hương ước (Admin/Editor)

1. Vào **Quản trị** → **Hương ước**
2. Nhấn **Thêm bài viết**
3. Điền:
   - **Tiêu đề**
   - **Danh mục:** Gia huấn, Quy ước, Lời dặn
   - **Nội dung** — hỗ trợ văn bản dài
4. Nhấn **Lưu**

---

## 11. Cầu đương

### Cầu đương là gì?

Cầu đương là phong tục phân công trách nhiệm lo việc cúng giỗ, lễ tết giữa các gia đình trong dòng họ. Ứng dụng tự động phân công theo thuật toán DFS (duyệt cây theo chiều sâu), đảm bảo công bằng.

### Xem lịch cầu đương

- Vào **Cầu đương** từ thanh điều hướng
- Hiển thị danh sách phân công: ai phụ trách lễ nào

### Quản lý cầu đương (Admin/Editor)

1. Vào **Quản trị** → **Cầu đương**
2. **Tạo đợt mới:** Chọn năm, hệ thống tự động phân công
3. **Điều chỉnh:** Có thể đổi người phụ trách nếu cần

---

## 12. Gia phả sách

- Vào **Gia phả sách** từ thanh điều hướng
- Hiển thị gia phả dưới dạng sách truyền thống
- Sắp xếp theo đời, từ thủy tổ đến con cháu

---

## 13. Quản trị (Admin)

> Chỉ hiển thị cho tài khoản có quyền Admin hoặc Editor.

### Các chức năng quản trị

| Mục | Chức năng |
|-----|-----------|
| **Người dùng** | Quản lý tài khoản, phân quyền |
| **Vinh danh** | Thêm/sửa/xóa thành tích |
| **Quỹ khuyến học** | Thu chi, cấp học bổng |
| **Hương ước** | Quản lý bài viết |
| **Cầu đương** | Tạo đợt phân công |
| **Đóng góp** | Duyệt đóng góp từ thành viên |
| **Cài đặt** | Cấu hình hệ thống |

### Phân quyền

| Vai trò | Quyền hạn |
|---------|-----------|
| **Admin** | Toàn quyền: CRUD tất cả dữ liệu, quản lý người dùng |
| **Editor** | Thêm/sửa/xóa thành viên, sự kiện, thành tích |
| **Viewer** | Xem tất cả, không chỉnh sửa |
| **Guest** | Xem thông tin công khai, không thấy liên lạc |

> **Lưu ý cho bản Desktop:** Bạn tự động là Admin — toàn quyền quản lý dữ liệu trên máy.

---

## 14. Sao lưu & Khôi phục

### Sao lưu dữ liệu

Toàn bộ dữ liệu nằm trong thư mục `~/AncestorTree/`:

```
~/AncestorTree/
├── data/
│   └── ancestortree.db      ← File database chính
└── media/
    └── people/               ← Ảnh thành viên
```

**Cách sao lưu:**
1. Đóng ứng dụng
2. Copy thư mục `~/AncestorTree/` ra USB, Google Drive, hoặc nơi an toàn
3. Nên sao lưu định kỳ (ít nhất 1 lần/tháng)

### Khôi phục dữ liệu

1. Đóng ứng dụng
2. Copy thư mục `AncestorTree/` từ bản backup vào `~/` (thư mục Home)
3. Mở lại ứng dụng

### Chuyển dữ liệu sang máy khác

1. Sao lưu thư mục `~/AncestorTree/` từ máy cũ
2. Cài ứng dụng trên máy mới
3. Copy thư mục `AncestorTree/` vào `~/` trên máy mới
4. Mở ứng dụng — dữ liệu sẽ hiển thị ngay

---

## Mẹo sử dụng

1. **Bắt đầu từ thủy tổ:** Nhập thông tin từ đời cao nhất trở xuống
2. **Thiết lập quan hệ sớm:** Chọn Cha/Mẹ khi tạo thành viên mới để cây gia phả tự động cập nhật
3. **Ghi ngày giỗ âm lịch:** Đây là trường quan trọng nhất — giúp ứng dụng tính ngày giỗ chính xác
4. **Sao lưu thường xuyên:** Dữ liệu gia phả là tài sản vô giá — hãy sao lưu định kỳ
5. **Dùng tìm kiếm:** Khi gia phả lớn (>50 người), tìm kiếm nhanh hơn cuộn trang

---

## Câu hỏi thường gặp

### Bản Desktop khác gì bản Web?

| | Desktop | Web |
|--|---------|-----|
| **Dữ liệu** | Lưu trên máy bạn (SQLite) | Lưu trên cloud (Supabase) |
| **Internet** | Không cần | Cần |
| **Người dùng** | 1 người (admin) | Nhiều người, phân quyền |
| **Cài đặt** | Tải file, click cài | Cần Node.js, Docker |
| **Chức năng** | Giống nhau 100% | Giống nhau 100% |

### Dữ liệu có mất khi cập nhật ứng dụng không?

Không. Dữ liệu được lưu riêng trong thư mục `~/AncestorTree/`, không bị ảnh hưởng khi cập nhật.

### Có thể chuyển dữ liệu từ bản Desktop sang bản Web không?

Có. Sử dụng tính năng Export/Import (sẽ có trong phiên bản tương lai).

### Ứng dụng hỗ trợ bao nhiêu thành viên?

Không giới hạn cứng. Đã test tốt với 500+ thành viên, 10+ đời.
